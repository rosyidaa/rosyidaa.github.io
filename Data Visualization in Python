# -*- coding: utf-8 -*-
"""Topic 7 8 - Rosyida Ishma Mardhiyyah.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1WlNPPmbFvI2zVmMRk63nJcPthxkDH28P
"""

# Commented out IPython magic to ensure Python compatibility.
import warnings
warnings.filterwarnings('ignore')

import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
# %matplotlib inline

"""#Load & Understanding Dataset

Data yang digunakan adalah data [titanic](https://drive.google.com/file/d/1QGE_RLnxchbGLIe92Yu4Cv009Fl1UZyn/view) berikut.

![image.png](data:image/png;base64,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)

Variabel numerik dalam data ini adalah Age dan Fare. Sementara variabel kategorik dalam data ini terdiri dari Survived, Pclass, Sex, SibSp, Parch, Embarked. Adapun target variable dalam permasalahan ini adalah Survived.
"""

from google.colab import drive
drive.mount('/content/drive')

df = pd.read_csv("drive/MyDrive/train.csv")
df.head(10)

df.info()

df.describe()

df["PassengerId"] = df["PassengerId"].astype("object")
df["Survived"] = df["Survived"].astype("category")
df["Pclass"] = df["Pclass"].astype("category")
df["Sex"] = df["Sex"].astype("category")
df["SibSp"] = df["SibSp"].astype("category")
df["Parch"] = df["Parch"].astype("category")
df["Embarked"] = df["Embarked"].astype("category")

df.dtypes

"""#Missing Values Handle"""

df.isnull().sum()

"""Handling Missing Value in Embarked"""

df = df.dropna(subset=['Embarked'])
df.isnull().sum()

"""Handling Missing Value in Age"""

df["Age"].describe()

sns.distplot(df["Age"])

df['Age'] = df['Age'].fillna(df['Age'].mean())
df.isnull().sum()

"""Handling Missing Value in Cabin"""

df["Cabin"].dtype

df['Cabin'] = np.where(df['Cabin'].isnull(),"Unk",df['Cabin'])
df.isnull().sum()

df.head(10)

df.shape

"""#Barplot

Barplot of Survived
"""

sns.set_style("darkgrid") #adjust chart style 
plt.figure(figsize=(2,4)) #adjust figure size
surv = sns.countplot(x="Survived", data=df) #build a chart
surv.bar_label(surv.containers[0], label_type='center')  #add bar label
plt.show() #show chart

"""Barplot of Embarked"""

plt.figure(figsize=(3,4))
emb = sns.countplot(x="Embarked", data=df, order=df["Embarked"].value_counts().index[0:3], orient="h")
emb.bar_label(emb.containers[0], label_type='edge')
plt.show()

"""Barplot of Survived by SibSp"""

sibsp = sns.countplot(y='SibSp', hue='Survived', data=df)
plt.title("Survived by SibSp") #add chart title
sns.move_legend(sibsp, "upper left", bbox_to_anchor=(1, 1)) #moving legend

"""Barplot of Survived by Parch"""

parch = sns.countplot(y='Parch', hue='Survived', data=df)
plt.title("Survived by Parch")
sns.move_legend(parch, "upper left", bbox_to_anchor=(1, 1))

"""Stack Barplot of Survived by Sex"""

# Group the data by Survived and Sex
grouped_data = df.groupby(["Survived", "Sex"]).size().reset_index(name="count")

# Pivot the data to create a stacked bar chart
pivot_data = grouped_data.pivot(index="Survived", columns="Sex", values="count").fillna(0)
pivot_data["total"] = pivot_data["female"] + pivot_data["male"]
pivot_data = pivot_data.sort_values("total", ascending=False).head(10)

# Create the stacked bar chart
plt.figure(figsize=(2, 3))
sns.set_style("darkgrid")
sns.set_palette("Set2")

ax = pivot_data[["male", "female"]].plot(kind="bar", stacked=True)
ax.set_xlabel("Survived") #add x label
ax.set_ylabel("Count") #add y label
ax.set_title("Survived by Sex")
ax.bar_label(ax.containers[0], label_type='center')
ax.bar_label(ax.containers[1], label_type='center')

sns.move_legend(ax, "lower center", bbox_to_anchor=(0.5, -0.25), ncol=3, title=None)
plt.xticks(rotation=0) #rotate x ticks
plt.show()

"""#Distplot

Distplot of Age
"""

plt.figure(figsize=(8,5))
sns.set_palette("Set1")
sns.distplot(df["Age"])

"""Distplot of Fare"""

plt.figure(figsize=(8,5))
sns.set_palette("Set2")
sns.distplot(df["Fare"])

"""#Boxplot

Boxplot of Age
"""

plt.figure(figsize = (6, 3))
sns.set_palette("Set1")
sns.boxplot(x = 'Age', data = df)

"""Boxplot of Age by Survived"""

df_compare = df[['Age', 'Survived']]
df_compare.head()

sns.boxplot(y = 'Age', x = 'Survived', data = df_compare)

"""Boxplot of Fare"""

plt.figure(figsize = (6, 3))
sns.set_palette("Set2")
sns.boxplot(x = 'Fare', data = df)

"""Boxplot of Fare by Pclass"""

df_compare_1 = df[['Fare', 'Pclass']]
df_compare_1.head()

sns.boxplot(y = 'Fare', x = 'Pclass', data = df_compare_1)

"""#Scatterplot"""

sns.scatterplot(x = 'Age', y = 'Fare', data = df)

df[['Age', 'Fare']].corr()

"""#Pie chart

Piechart of Survived
"""

# Count the number of each categories in the dataset 
count_survived = len(df[df['Survived'] == 1])
count_dead = len(df[df['Survived'] == 0])

# Create a pie chart with the counts
labels = ["Survived", "Not Survived"]
sizes = [count_survived, count_dead]
fig1, ax1 = plt.subplots()
ax1.pie(sizes, labels=labels, autopct='%1.1f%%', startangle=90)
ax1.axis('equal')

# Show the pie chart
plt.show()

"""Piechart of Sex"""

# Count the number of each categories in the dataset
count_male = len(df[df['Sex'] == "male"])
count_female = len(df[df['Sex'] == "female"])

# Create a pie chart with the counts
labels = ["Male", "Female"]
sizes = [count_male, count_female]
fig1, ax1 = plt.subplots()
ax1.pie(sizes, labels=labels, autopct='%1.1f%%', startangle=90)
ax1.axis('equal')

# Show the pie chart
plt.show()

"""Piechart of Pclass"""

# Count the number of each categories in the dataset
count_1 = len(df[df['Pclass'] == 1])
count_2 = len(df[df['Pclass'] == 2])
count_3 = len(df[df['Pclass'] == 3])

# Create a pie chart with the counts
labels = ["Class 1", "Class 2", "Class 3"]
sizes = [count_1, count_2, count_3]
fig1, ax1 = plt.subplots()
ax1.pie(sizes, labels=labels, autopct='%1.1f%%', startangle=90)
ax1.axis('equal')

# Show the pie chart
plt.show()
